<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>이상형 월드컵</title>
</head>
<script>
    var images = ["trash", "라이온킹3.png", "빅히어로.png", "말레피센트.png", "정글북.png",
        "공주와개구리.png", "도리를찾아서.png", "인어공주.png", "덤보.png", "모아나.png", "겨울왕국.png", "인사이드아웃.png", "주먹왕랄프2.png", "알라딘.png", "코코.png", "라푼젤.png", "메리다와마법의숲.png"];

    var imagename = ["trash", "라이온킹3", "빅히어로", "말레피센트", "정글북", "공주와개구리", "도리를찾아서", "인어공주", "덤보", "모아나", "겨울왕국", "인사이드아웃", "주먹왕랄프2", "알라딘", "코코", "라푼젤", "메리다와마법의숲"];
 
   var selectedImage = new Array(8);

    var game = 8;
    var cnt = 0;

    var username = prompt("이름을 입력해주세요");
    
   function GetCookie(name){
       var str = name+"=";
       var pairs = document.cookie.split(";");
       for(var i = 0 ; i < pairs.length; i++){
          var pair = pairs[i].trim();
          var unit = pair.split("=");
          if(unit[0] == name)
             return unescape(unit[1]);
       }
       return null;
}
function setCookie(name, value, expireDate){
    var cookieStr = name + "=" + escape(value) + ((expireDate == null)?"":("; expires="+expireDate.toGMTString()));
    document.cookie = cookieStr;
}
    function doSelect() {
        var RADIO = document.getElementsByName("RADIO");
        var SPAN = document.getElementsByName("radioSpan");
        var IMAGE = document.getElementsByName("radioImage");

        if (RADIO[0].checked == true) {
            selectedImage[cnt++] = RADIO[0].value;

            RADIO[0].checked = false;
            if(game == 1)
            alert(username + "님의 " + visitcount + "번째 선택은 " + SPAN[0].innerHTML + "였습니다.");
        } else if (RADIO[1].checked == true) {
            selectedImage[cnt++] = RADIO[1].value;

            RADIO[1].checked = false;
            if(game == 1)
                alert(username + "님의"  + visitcount + "n번째 선택은 " + SPAN[1].innerHTML + "였습니다.");
        } else {
            alert("선택해주세요");
            return false;
        }
        
        if (cnt == game) {
            game /= 2;
            cnt = 0;
        }

        if (game == 8)
            set16(RADIO, SPAN, IMAGE);
        if (game == 4)
            set8(RADIO, SPAN, IMAGE);
        if (game == 2)
            set4(RADIO, SPAN, IMAGE);
        if (game == 1)
            set2(RADIO, SPAN, IMAGE);
    }

   function set16(RADIO, SPAN, IMAGE) {
        var first = parseInt(RADIO[0].value) + 2;
        var second = parseInt(RADIO[1].value) + 2;

        RADIO[0].value = first;
        RADIO[1].value = second;
        SPAN[0].innerHTML = imagename[first];
        SPAN[1].innerHTML = imagename[second];
        IMAGE[0].src = images[first];
        IMAGE[1].src = images[second];
    }
   function set8(RADIO, SPAN, IMAGE) {
        var first, second;
        if(cnt == 0){
            first = selectedImage[0];
            second = selectedImage[1];
        }else{
            first = selectedImage[2];
            second = selectedImage[3];
        }

        RADIO[0].value = first;
        RADIO[1].value = second;
        SPAN[0].innerHTML = imagename[first];
        SPAN[1].innerHTML = imagename[second];
        IMAGE[0].src = images[first];
        IMAGE[1].src = images[second];
    }
    function set4(RADIO, SPAN, IMAGE) {
        var first, second;
        if(cnt == 0){
            first = selectedImage[0];
            second = selectedImage[1];
        }else{
            first = selectedImage[2];
            second = selectedImage[3];
        }

        RADIO[0].value = first;
        RADIO[1].value = second;
        SPAN[0].innerHTML = imagename[first];
        SPAN[1].innerHTML = imagename[second];
        IMAGE[0].src = images[first];
        IMAGE[1].src = images[second];
    }
    function set2(RADIO, SPAN, IMAGE) {
        var first = selectedImage[0];
        var second = selectedImage[1];

        RADIO[0].value = first;
        RADIO[1].value = second;
        SPAN[0].innerHTML = imagename[first];
        SPAN[1].innerHTML = imagename[second];
        IMAGE[0].src = images[first];
        IMAGE[1].src = images[second];
    }
</script>

<body>
    <h3>재미있게 본 영화는?</h3>
    <hr><br><br>
    <!-- img 크기 조절하기 -->
    <form>
        <input type="radio" name="RADIO" value="1"><span name="radioSpan">일</span><img src="image1.png"
            name="radioImage" width="100px" height="100px">
        <br><br><br>
        <input type="radio" name="RADIO" value="2"><span name="radioSpan">이</span><img src="image2.png"
            name="radioImage" width="100px" height="100px">
        <br><br><br>&nbsp;&nbsp;&nbsp;
        <input type="button" value="선택" onclick="doSelect()">
    </form>
</body>

</html>